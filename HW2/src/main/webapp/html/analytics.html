<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/analytics.css">
    <link rel="stylesheet" href="./css/template.css">
    <link rel="stylesheet" href="./css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="./js/analytics.js"></script>
    <title>Analytics</title>
</head>
<body>

    <table id="analyticsTable">
        <tr>
          <th>User ID</th>
          <th>Username</th>
          <th>Workspace ID</th>
          <th>Workspace Name</th>
          <th>Num Completed Activities</th>
          <th>Num Total Activities</th>
          <th>Total Worked Time</th>
          <th>Num Comments</th>
        </tr>
      </table>
    
      <script>
        // Fetch data from the server using AJAX
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "path/to/your/api", true); // Replace with the actual API endpoint or server-side script to retrieve data
        xhr.onreadystatechange = function() {
          if (xhr.readyState === 4 && xhr.status === 200) {
            var data = JSON.parse(xhr.responseText);
    
            // Loop through the data and dynamically populate the table
            var table = document.getElementById("analyticsTable");
            for (var i = 0; i < data.length; i++) {
              var row = table.insertRow();
              row.insertCell().textContent = data[i].user_id;
              row.insertCell().textContent = data[i].username;
              row.insertCell().textContent = data[i].workspace_id;
              row.insertCell().textContent = data[i].workspace_name;
              row.insertCell().textContent = data[i].num_completed_activities;
              row.insertCell().textContent = data[i].num_total_activities;
              row.insertCell().textContent = data[i].total_worked_time;
              row.insertCell().textContent = data[i].num_comments;
            }
          }
        };
        xhr.send();
      </script>
    
    
</body>
</html>